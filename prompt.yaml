prompts:
  PROMPT_TEMPLATE_1:
    title: "语义理解"
    prompt:
      '假设你是一名决策树设计师，你的任务是分析文本并提取出核心流程。
      请仔细阅读用户提供的文本，输出核心的决策与动作的逻辑顺序。
      
      示例1
      用户提供的文本：
      针对目标散布扩大导致鱼雷难以发现目标的情况，现代智能鱼雷对目标散布区域可实施线导机动搜索，即将鱼雷导引到目标散布区域附近，在预先设定的航程内若未能发现目标，则按照设定的参数进行旋回搜索，通过扩大搜索域来遮盖目标散布区域，实现鱼雷“点对域”攻击构想。
      线导机动搜索弹道是指在鱼雷线导工作方式下，在鱼雷发射前或鱼雷航行过程中，武器系统向鱼雷发送机动搜索弹道控制信息，当鱼雷满足机动搜索启用时机时，按照机动搜索弹道信息对目标散布区域进行旋回搜索。
      根据“线导+末自导”导引方式的特点，归纳总结线导机动搜索弹道工作流程，并绘制线导机动搜索弹道示意图和线导机动搜索弹道工作流程图。
      鱼雷发射出管经自主控制航行进入线导导引航行，武器系统通过线导指令将鱼雷导引至目标散布区域附近，在线导过程中如果发现目标，则按照攻击流程组织鱼雷攻击；
      若到达线导断线点未发现目标，自导开机直航搜索，若发现目标则组织鱼雷攻击，
      若未发现目标，按照设定的参数执行机动搜索，即以期望的目标命中点（最或然点）为圆心，根据设定旋回方向和旋回半径参数搜索一周；
      若搜索过程中发现目标则组织鱼雷攻击，若未发现目标，则进行变速、变深、变向，同时按照设定自导方式进行直航搜索，直至发现目标或航程终了。
      输出内容：
      ## 1. 鱼雷发射
      - 鱼雷从发射管中发射出去，并进入自主控制航行状态。
      ## 2. 线导导引
      ### 目标搜索
      - 通过武器系统的线导指令，将鱼雷导引至目标散布区域附近。
      ### 目标检测
      - **如果在线导过程中发现目标**：转入攻击目标。
      - **如果未发现目标**：到达线导断线点。
      ## 3. 自导直航搜索
      - **如果在自导直航搜索中发现目标**：转入攻击目标。
      - **如果未发现目标**：执行机动搜索。
      ## 4. 机动搜索
      - 使用设定的参数（旋回方向、旋回半径）进行圆周搜索。
      ### 目标检测
      - **如果在搜索过程中发现目标**：转入攻击目标。
      - **如果未发现目标**：进行下一步动作。
      ## 5. 变速、变深、变向
      - 改变鱼雷的速度、深度和方向。
      ## 6. 继续自导搜索
      - 重复自导搜索，直到发现目标或者航程终了。
      
      示例2
      用户提供的文本：
      在现代智能鱼雷线导使用时机和机动搜索弹道使用时机的基础上，综合分析，确定线导机动搜索弹道的使用时机如下。
      1）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导有意外断线的可能，应设定机动搜索弹道方案，当意外断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      2）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导过程存在主动断线的可能，如潜艇规避敌方攻击需要采取大幅度机动、需要用线导舷再次发射武器时、指挥员无暇线导或者认为继续线导无意义时，应设定机动搜索弹道方案，当主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      3）潜艇未与目标直接接触，通过外部接收目标信息（包括目标位置、速度、航向和各参数的误差）［3］，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，应设定机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      4）潜艇未与目标直接接触，通过外部接收目标信息，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，设定了机动搜索弹道参数，在线导过程中，再次接收到新的目标指示信息，应立即根据新的目标信息，修改机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域。
      输出内容：
      ## 1. 鱼雷发射前的准备
      - **判断潜艇与目标是否直接接触**
        - **是**：进入步骤2。
        - **否**：使用外部接收的目标信息（位置、速度、航向等），进入步骤4。
      ## 2. 潜艇自行跟踪目标
      - **使用现代智能鱼雷的线导方式攻击目标**
      - **检查线导过程中目标运动要素解算情况**
        - **如果解算结果不满意或存在断线可能**
          - 设定机动搜索弹道。
            - **发生意外断线**：按机动搜索弹道方案执行搜索。
            - **需主动断线**（如规避敌方攻击等情况）：按机动搜索弹道方案执行搜索。
      ## 3. 线导过程中的动态调整
      - **在线导过程中接收新的目标指示信息**
        - **立即根据新信息调整机动搜索弹道参数**
          - **发生意外断线或指挥员主动断线**：按调整后的机动搜索弹道方案执行搜索。
      ## 4. 无直接接触，通过外部信息攻击
      - **使用线导方式攻击目标**
      - **设定机动搜索弹道参数**
      - **检查线导状态**
        - **发生意外断线或指挥员主动断线**：按机动搜索弹道方案执行搜索。
      
      如果用户提供的文本无法分析出核心的决策与动作的逻辑顺序，请对用户进行提问以获取更详尽的信息。
      现在请按照要求输出核心的决策与动作的逻辑顺序
      用户提供的文本：{question}
      输出内容：'


  PROMPT_TEMPLATE_2:
    title: "节点识别"
    prompt:
      '假设你是一名决策设计师，根据分析得到的流程，识别所有决策节点和动作节点。
      为每一个识别出的决策点和行动步骤分配适当的类型标签（决策或行动）表明顺序，并为每种类型的节点准备详细描述，确保每个节点的功能和目的明确。
      
      示例1
      用户输入：
      针对目标散布扩大导致鱼雷难以发现目标的情况，现代智能鱼雷对目标散布区域可实施线导机动搜索，即将鱼雷导引到目标散布区域附近，在预先设定的航程内若未能发现目标，则按照设定的参数进行旋回搜索，通过扩大搜索域来遮盖目标散布区域，实现鱼雷“点对域”攻击构想。
      线导机动搜索弹道是指在鱼雷线导工作方式下，在鱼雷发射前或鱼雷航行过程中，武器系统向鱼雷发送机动搜索弹道控制信息，当鱼雷满足机动搜索启用时机时，按照机动搜索弹道信息对目标散布区域进行旋回搜索。
      根据“线导+末自导”导引方式的特点，归纳总结线导机动搜索弹道工作流程，并绘制线导机动搜索弹道示意图和线导机动搜索弹道工作流程图。
      鱼雷发射出管经自主控制航行进入线导导引航行，武器系统通过线导指令将鱼雷导引至目标散布区域附近，在线导过程中如果发现目标，则按照攻击流程组织鱼雷攻击；
      若到达线导断线点未发现目标，自导开机直航搜索，若发现目标则组织鱼雷攻击，
      若未发现目标，按照设定的参数执行机动搜索，即以期望的目标命中点（最或然点）为圆心，根据设定旋回方向和旋回半径参数搜索一周；
      若搜索过程中发现目标则组织鱼雷攻击，若未发现目标，则进行变速、变深、变向，同时按照设定自导方式进行直航搜索，直至发现目标或航程终了。
      整理内容：
      ## 1. 鱼雷发射
      - 鱼雷从发射管中发射出去，并进入自主控制航行状态。
      ## 2. 线导导引
      ### 目标搜索
      - 通过武器系统的线导指令，将鱼雷导引至目标散布区域附近。
      ### 目标检测
      - **如果在线导过程中发现目标**：转入攻击目标。
      - **如果未发现目标**：到达线导断线点。
      ## 3. 自导直航搜索
      - **如果在自导直航搜索中发现目标**：转入攻击目标。
      - **如果未发现目标**：执行机动搜索。
      ## 4. 机动搜索
      - 使用设定的参数（旋回方向、旋回半径）进行圆周搜索。
      ### 目标检测
      - **如果在搜索过程中发现目标**：转入攻击目标。
      - **如果未发现目标**：进行下一步动作。
      ## 5. 变速、变深、变向
      - 改变鱼雷的速度、深度和方向。
      ## 6. 继续自导搜索
      - 重复自导搜索，直到发现目标或者航程终了。
      输出内容：
      ## 1. 鱼雷发射 [行动]
        - **描述** ： 鱼雷从发射管中被发射，并自动进入自主控制航行状态。此行为是流程的启动点，确保鱼雷能够进入预定的作战环境开始其搜索和攻击序列。
      ## 2. 目标搜索 [行动]
        - **描述** ： 通过潜艇的武器系统发送线导指令，鱼雷被导引至目标散布区域附近。这一步骤是对鱼雷搜寻目标的初步指导。
      ## 3. 目标检测 [决策]
        - * : 鱼雷在到达指定区域后，检测是否能够在线导过程中发现目标。
            - **如果发现目标** ：进入攻击目标。
            - **如果未发现目标** ：到达线导断线点。这一决策点是关键，决定了后续的搜索策略和行动方向。
      ## 4. 自导直航搜索 [决策]
        - **描述** : 在线导导引后或当线导未成功时启动，自动进行直航搜索。
            - **如果发现目标** ：进入攻击目标。
            - **如果未发现目标** ：执行机动搜索。这一步是基于先前步骤的结果继续进行的搜索决策。
      ## 5. 机动搜索 [行动]
        - **描述** : 按照设定的旋回方向和半径进行圆周搜索。此行动是扩大搜索范围，以提高在散布区域内发现目标的可能性。
      ## 6. 机动搜索中的目标检测 [决策]
        - **描述** :
            - **如果在搜索过程中发现目标** ：进入攻击目标。
            - **如果未发现目标** ：进行下一步动作。这一决策点确保在机动搜索期间能对发现的目标做出反应。
      ## 7. 变速、变深、变向 [行动]
        - **描述** : 根据战场环境和策略需要，改变鱼雷的速度、深度和方向。此行动增加了搜索过程中的不可预测性和覆盖范围，提高发现目标的几率。
      ## 8. 继续自导搜索 [行动]
        - **描述** : 如果前述搜索未能成功定位目标，鱼雷将重复自导搜索过程，直到发现目标或航程终了。这一步是最终的尝试，确保在所有可能的情况下最大化搜索效果。
        
      示例2
      用户输入：
      在现代智能鱼雷线导使用时机和机动搜索弹道使用时机的基础上，综合分析，确定线导机动搜索弹道的使用时机如下。
      1）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导有意外断线的可能，应设定机动搜索弹道方案，当意外断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      2）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导过程存在主动断线的可能，如潜艇规避敌方攻击需要采取大幅度机动、需要用线导舷再次发射武器时、指挥员无暇线导或者认为继续线导无意义时，应设定机动搜索弹道方案，当主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      3）潜艇未与目标直接接触，通过外部接收目标信息（包括目标位置、速度、航向和各参数的误差）［3］，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，应设定机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
      4）潜艇未与目标直接接触，通过外部接收目标信息，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，设定了机动搜索弹道参数，在线导过程中，再次接收到新的目标指示信息，应立即根据新的目标信息，修改机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域。
      整理内容：
      ## 1. 鱼雷发射前的准备
      - **判断潜艇与目标是否直接接触**
        - **是**：进入步骤2。
        - **否**：使用外部接收的目标信息（位置、速度、航向等），进入步骤4。
      ## 2. 潜艇自行跟踪目标
      - **使用现代智能鱼雷的线导方式攻击目标**
      - **检查线导过程中目标运动要素解算情况**
        - **如果解算结果不满意或存在断线可能**
          - 设定机动搜索弹道。
            - **发生意外断线**：按机动搜索弹道方案执行搜索。
            - **需主动断线**（如规避敌方攻击等情况）：按机动搜索弹道方案执行搜索。
      ## 3. 线导过程中的动态调整
      - **在线导过程中接收新的目标指示信息**
        - **立即根据新信息调整机动搜索弹道参数**
          - **发生意外断线或指挥员主动断线**：按调整后的机动搜索弹道方案执行搜索。
      ## 4. 无直接接触，通过外部信息攻击
      - **使用线导方式攻击目标**
      - **设定机动搜索弹道参数**
      - **检查线导状态**
        - **发生意外断线或指挥员主动断线**：按机动搜索弹道方案执行搜索。
      输出内容：
      ## 1. 鱼雷发射前的准备 [决策]
      - **描述**: 在鱼雷发射前，首先判断潜艇是否与目标有直接接触。
        - **如果是**：进入直接追踪和攻击流程。
        - **如果否**：使用通过情报获得的外部目标信息继续操作。
      ## 2. 潜艇自行跟踪目标 [行动]
      - **描述**: 潜艇使用线导系统自行跟踪目标，并尝试攻击。
      - **检查线导过程中目标运动要素解算情况** [决策]
        - **描述**: 根据目标运动数据的解算结果判断下一步操作。
          - **如果解算结果不满意或存在断线可能**：
            - **设定机动搜索弹道**。
              - **发生意外断线**：执行机动搜索。
              - **需主动断线**（如规避敌方攻击等情况）：执行机动搜索。
      ## 3. 线导过程中的动态调整 [行动]
      - **描述**: 在线导过程中，根据新接收到的目标信息立即调整搜索参数。
        - **发生意外断线或指挥员主动断线** [决策]
          - **描述**: 根据线导的状态和指挥官的决定，选择是否立即执行机动搜索。
            - **如果断线**：按调整后的机动搜索弹道方案执行搜索。
      ## 4. 无直接接触，通过外部信息攻击 [行动]
      - **描述**: 当潜艇未与目标直接接触时，通过外部信息进行线导方式的攻击。
      - **设定机动搜索弹道参数** [行动]
        - **描述**: 在无直接接触情况下，预先设定可能需要的机动搜索参数。
      - **检查线导状态** [决策]
        - **描述**: 监控线导过程中的状态，以决定是否需要执行预设的机动搜索。
          - **如果发生意外断线或指挥员主动断线**：执行机动搜索。
      
    如果下列提供的文本无法识别任何决策节点和动作节点，请对用户进行提问以获取更详尽的信息。
    现在请按照要求输出所有决策节点和动作节点
    用户提供的文本：{question}
    整理内容：{result1}
    输出内容：'

  PROMPT_TEMPLATE_3:
    title: "图谱构建"
    prompt: '假设你是数据结构开发者，请你根据识别的决策点和动作节点，生成决策树的 JSON 结构。
    每个节点对象应包括 id字段, type字段, description字段、以及next数组，
    id是当前节点的唯一标识；
    type是当前节点的类型，包含两种类型：decision、action，decision表示决策节点，action表示行动节点；
    description是当前节点的描述；
    next是指向下一节点的ID列表，对于行动节点，next映射出后续节点的id，
    对于决策节点，next映射出基于不同条件的不同路径。
    请你确保 JSON 结构清晰、逻辑性强。
    
    示例1：
    用户输入：
    针对目标散布扩大导致鱼雷难以发现目标的情况，现代智能鱼雷对目标散布区域可实施线导机动搜索，即将鱼雷导引到目标散布区域附近，在预先设定的航程内若未能发现目标，则按照设定的参数进行旋回搜索，通过扩大搜索域来遮盖目标散布区域，实现鱼雷“点对域”攻击构想。
    线导机动搜索弹道是指在鱼雷线导工作方式下，在鱼雷发射前或鱼雷航行过程中，武器系统向鱼雷发送机动搜索弹道控制信息，当鱼雷满足机动搜索启用时机时，按照机动搜索弹道信息对目标散布区域进行旋回搜索。
    根据“线导+末自导”导引方式的特点，归纳总结线导机动搜索弹道工作流程，并绘制线导机动搜索弹道示意图和线导机动搜索弹道工作流程图。
    鱼雷发射出管经自主控制航行进入线导导引航行，武器系统通过线导指令将鱼雷导引至目标散布区域附近，在线导过程中如果发现目标，则按照攻击流程组织鱼雷攻击；
    若到达线导断线点未发现目标，自导开机直航搜索，若发现目标则组织鱼雷攻击，
    若未发现目标，按照设定的参数执行机动搜索，即以期望的目标命中点（最或然点）为圆心，根据设定旋回方向和旋回半径参数搜索一周；
    若搜索过程中发现目标则组织鱼雷攻击，若未发现目标，则进行变速、变深、变向，同时按照设定自导方式进行直航搜索，直至发现目标或航程终了。
    逻辑整理：
    ## 1. 鱼雷发射
    - 鱼雷从发射管中发射出去，并进入自主控制航行状态。
    ## 2. 线导导引
    ### 目标搜索
    - 通过武器系统的线导指令，将鱼雷导引至目标散布区域附近。
    ### 目标检测
    - **如果在线导过程中发现目标**：转入攻击目标。
    - **如果未发现目标**：到达线导断线点。
    ## 3. 自导直航搜索
    - **如果在自导直航搜索中发现目标**：转入攻击目标。
    - **如果未发现目标**：执行机动搜索。
    ## 4. 机动搜索
    - 使用设定的参数（旋回方向、旋回半径）进行圆周搜索。
    ### 目标检测
    - **如果在搜索过程中发现目标**：转入攻击目标。
    - **如果未发现目标**：进行下一步动作。
    ## 5. 变速、变深、变向
    - 改变鱼雷的速度、深度和方向。
    ## 6. 继续自导搜索
    - 重复自导搜索，直到发现目标或者航程终了。
    节点识别：
    ## 1. 鱼雷发射 [行动]
      - **描述** ： 鱼雷从发射管中被发射，并自动进入自主控制航行状态。此行为是流程的启动点，确保鱼雷能够进入预定的作战环境开始其搜索和攻击序列。
    ## 2. 目标搜索 [行动]
      - **描述** ： 通过潜艇的武器系统发送线导指令，鱼雷被导引至目标散布区域附近。这一步骤是对鱼雷搜寻目标的初步指导。
    ## 3. 目标检测 [决策]
      - * : 鱼雷在到达指定区域后，检测是否能够在线导过程中发现目标。
          - **如果发现目标** ：进入攻击目标。
          - **如果未发现目标** ：到达线导断线点。这一决策点是关键，决定了后续的搜索策略和行动方向。
    ## 4. 自导直航搜索 [决策]
      - **描述** : 在线导导引后或当线导未成功时启动，自动进行直航搜索。
          - **如果发现目标** ：进入攻击目标。
          - **如果未发现目标** ：执行机动搜索。这一步是基于先前步骤的结果继续进行的搜索决策。
    ## 5. 机动搜索 [行动]
      - **描述** : 按照设定的旋回方向和半径进行圆周搜索。此行动是扩大搜索范围，以提高在散布区域内发现目标的可能性。
    ## 6. 机动搜索中的目标检测 [决策]
      - **描述** :
          - **如果在搜索过程中发现目标** ：进入攻击目标。
          - **如果未发现目标** ：进行下一步动作。这一决策点确保在机动搜索期间能对发现的目标做出反应。
    ## 7. 变速、变深、变向 [行动]
      - **描述** : 根据战场环境和策略需要，改变鱼雷的速度、深度和方向。此行动增加了搜索过程中的不可预测性和覆盖范围，提高发现目标的几率。
    ## 8. 继续自导搜索 [行动]
      - **描述** : 如果前述搜索未能成功定位目标，鱼雷将重复自导搜索过程，直到发现目标或航程终了。这一步是最终的尝试，确保在所有可能的情况下最大化搜索效果。
    输出内容：
    ```json
    {
      "id": "root",
      "type": "action",
      "description": "鱼雷从发射管中被发射，并自动进入自主控制航行状态。此行为是流程的启动点，确保鱼雷能够进入预定的作战环境开始其搜索和攻击序列。",
      "next": ["target_search"]
    },
    {
      "id": "target_search",
      "type": "action",
      "description": "通过潜艇的武器系统发送线导指令，鱼雷被导引至目标散布区域附近。这一步骤是对鱼雷搜寻目标的初步指导。",
      "next": ["target_detection"]
    },
    {
      "id": "target_detection",
      "type": "decision",
      "description": "鱼雷在到达指定区域后，检测是否能够在线导过程中发现目标。",
      "next": [
        {
          "condition": "是",
          "id": "attack_target"
        },
        {
          "condition": "否",
          "id": "auto_navigation_search"
        }
      ]
    },
    {
      "id": "auto_navigation_search",
      "type": "decision",
      "description": "在线导导引后或当线导未成功时启动，自动进行直航搜索。",
      "next": [
        {
          "condition": "是",
          "id": "attack_target"
        },
        {
          "condition": "否",
          "id": "maneuver_search"
        }
      ]
    },
    {
      "id": "maneuver_search",
      "type": "action",
      "description": "按照设定的旋回方向和半径进行圆周搜索。此行动是扩大搜索范围，以提高在散布区域内发现目标的可能性。",
      "next": ["maneuver_target_detection"]
    },
    {
      "id": "maneuver_target_detection",
      "type": "decision",
      "description": "如果在搜索过程中发现目标。",
      "next": [
        {
          "condition": "是",
          "id": "attack_target"
        },
        {
          "condition": "否",
          "id": "change_speed_depth_direction"
        }
      ]
    },
    {
      "id": "change_speed_depth_direction",
      "type": "action",
      "description": "根据战场环境和策略需要，改变鱼雷的速度、深度和方向。此行动增加了搜索过程中的不可预测性和覆盖范围，提高发现目标的几率。",
      "next": ["continue_auto_navigation_search"]
    },
    {
      "id": "continue_auto_navigation_search",
      "type": "action",
      "description": "如果前述搜索未能成功定位目标，鱼雷将重复自导搜索过程，直到发现目标或航程终了。这一步是最终的尝试，确保在所有可能的情况下最大化搜索效果。",
      "next": null
    },
    {
      "id": "attack_target",
      "type": "action",
      "description": "进行攻击目标。",
      "next": null
    }
    ```
    
    示例2
    用户输入：
    在现代智能鱼雷线导使用时机和机动搜索弹道使用时机的基础上，综合分析，确定线导机动搜索弹道的使用时机如下。
    1）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导有意外断线的可能，应设定机动搜索弹道方案，当意外断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
    2）潜艇自行跟踪目标，概略掌握目标运动要素情况下，使用现代智能鱼雷线导方式攻击目标，鱼雷线导过程中解算目标运动要素不满意，且线导过程存在主动断线的可能，如潜艇规避敌方攻击需要采取大幅度机动、需要用线导舷再次发射武器时、指挥员无暇线导或者认为继续线导无意义时，应设定机动搜索弹道方案，当主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
    3）潜艇未与目标直接接触，通过外部接收目标信息（包括目标位置、速度、航向和各参数的误差）［3］，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，应设定机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域；
    4）潜艇未与目标直接接触，通过外部接收目标信息，潜艇使用现代智能鱼雷线导方式攻击目标，在鱼雷发射之前，设定了机动搜索弹道参数，在线导过程中，再次接收到新的目标指示信息，应立即根据新的目标信息，修改机动搜索弹道参数，当线导意外断线或鱼雷航程接近旋回搜索航程潜艇指挥员主动断线时，鱼雷按机动搜索弹道方案搜索目标位置散布区域。
    逻辑整理：
    ## 1. 鱼雷发射前的准备
    - **判断潜艇与目标是否直接接触**
      - **是**：进入步骤2。
      - **否**：使用外部接收的目标信息（位置、速度、航向等），进入步骤4。
    ## 2. 潜艇自行跟踪目标
    - **使用现代智能鱼雷的线导方式攻击目标**
    - **检查线导过程中目标运动要素解算情况**
      - **如果解算结果不满意或存在断线可能**
        - 设定机动搜索弹道。
          - **发生意外断线**：按机动搜索弹道方案执行搜索。
          - **需主动断线**（如规避敌方攻击等情况）：按机动搜索弹道方案执行搜索。
    ## 3. 线导过程中的动态调整
    - **在线导过程中接收新的目标指示信息**
      - **立即根据新信息调整机动搜索弹道参数**
        - **发生意外断线或指挥员主动断线**：按调整后的机动搜索弹道方案执行搜索。
    ## 4. 无直接接触，通过外部信息攻击
    - **使用线导方式攻击目标**
    - **设定机动搜索弹道参数**
    - **检查线导状态**
      - **发生意外断线或指挥员主动断线**：按机动搜索弹道方案执行搜索。
    节点识别：
    ## 1. 鱼雷发射前的准备 [决策]
    - **描述**: 在鱼雷发射前，首先判断潜艇是否与目标有直接接触。
      - **如果是**：进入直接追踪和攻击流程。
      - **如果否**：使用通过情报获得的外部目标信息继续操作。
    ## 2. 潜艇自行跟踪目标 [行动]
    - **描述**: 潜艇使用线导系统自行跟踪目标，并尝试攻击。
    - **检查线导过程中目标运动要素解算情况** [决策]
      - **描述**: 根据目标运动数据的解算结果判断下一步操作。
        - **如果解算结果不满意或存在断线可能**：
          - **设定机动搜索弹道**。
            - **发生意外断线**：执行机动搜索。
            - **需主动断线**（如规避敌方攻击等情况）：执行机动搜索。
    ## 3. 线导过程中的动态调整 [行动]
    - **描述**: 在线导过程中，根据新接收到的目标信息立即调整搜索参数。
      - **发生意外断线或指挥员主动断线** [决策]
        - **描述**: 根据线导的状态和指挥官的决定，选择是否立即执行机动搜索。
          - **如果断线**：按调整后的机动搜索弹道方案执行搜索。
    ## 4. 无直接接触，通过外部信息攻击 [行动]
    - **描述**: 当潜艇未与目标直接接触时，通过外部信息进行线导方式的攻击。
    - **设定机动搜索弹道参数** [行动]
      - **描述**: 在无直接接触情况下，预先设定可能需要的机动搜索参数。
    - **检查线导状态** [决策]
      - **描述**: 监控线导过程中的状态，以决定是否需要执行预设的机动搜索。
        - **如果发生意外断线或指挥员主动断线**：执行机动搜索。
    输出内容：
    ```json
    {
      "id": "root",
      "type": "decision",
      "description": "在鱼雷发射前，首先判断潜艇是否与目标有直接接触。",
      "next": [
        {
          "condition": "是",
          "id": "track_and_attack"
        },
        {
          "condition": "否",
          "id": "external_info_attack"
        }
      ]
    },
    {
      "id": "track_and_attack",
      "type": "action",
      "description": "潜艇使用线导系统自行跟踪目标，并尝试攻击。",
      "next": "compute_tracking_data"
    },
    {
      "id": "compute_tracking_data",
      "type": "decision",
      "description": "目标运动数据的解算结果是否满意",
      "next": [
        {
          "condition": "是",
          "id": "continue_tracking"
        },
        {
          "condition": "否",
          "id": "set_maneuver_search"
        }
      ]
    },
    {
      "id": "set_maneuver_search",
      "type": "action",
      "description": "设定机动搜索弹道。",
      "next": "dynamic_adjustment"
    },
    {
      "id": "dynamic_adjustment",
      "type": "action",
      "description": "在线导过程中，根据新接收到的目标信息立即调整搜索参数。",
      "next": "line_cut_decision"
    },
    {
      "id": "line_cut_decision",
      "type": "decision",
      "description": "根据线导的状态和指挥官的决定，选择是否立即执行机动搜索。",
      "next": [
        {
          "condition": "是",
          "id": "execute_maneuver_search"
        },
        {
          "condition": "否",
          "id": "continue_tracking"
        }
      ]
    },
    {
      "id": "execute_maneuver_search",
      "type": "action",
      "description": "按调整后的机动搜索弹道方案执行搜索。",
      "next": null
    },
    {
      "id": "external_info_attack",
      "type": "action",
      "description": "当潜艇未与目标直接接触时，通过外部信息进行线导方式的攻击。",
      "next": "set_external_maneuver_search"
    },
    {
      "id": "set_external_maneuver_search",
      "type": "action",
      "description": "在无直接接触情况下，预先设定可能需要的机动搜索参数。",
      "next": "external_line_cut_decision"
    },
    {
      "id": "external_line_cut_decision",
      "type": "decision",
      "description": "监控线导状态，以决定是否需要执行预设的机动搜索。",
      "next": [
        {
          "condition": "是",
          "id": "execute_maneuver_search"
        },
        {
          "condition": "否",
          "id": "continue_tracking"
        }
      ]
    },
    {
      "id": "continue_tracking",
      "type": "action",
      "description": "继续线导追踪目标。",
      "next": null
    }
    ```
    
    如果下列提供的文本无法生成决策树的 JSON 结构，请对用户进行提问以获取更详尽的信息。
    现在请按照要求输出生成决策树的 JSON 结构
    用户提供的文本：{question}
    逻辑整理：{result1}
    节点识别：{result2}
    输出内容：'


